(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{5422:function(e,t,a){e.exports=a(5579)},5427:function(e,t,a){},5429:function(e,t,a){},5579:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(22),l=a.n(o),c=(a(5427),a(15)),s=a(16),i=a(18),u=a(17),m=a(19),d=(a(5429),a(5582)),p=a(5581),y=a(28),h=a(26),f=a(25),E=a(29),b=a(55),C=a.n(b),O=a(5583),g={APP_BAR:"LKT",ENTER_BUTTON:"Enter",LEARDER_BOARD_MENU_ITEM:"Leaderboard",LOYALTY_CARDS_MENU_ITEM:"Loyalty Cards",LOYALTY_CARD_CODE:"Loyalty Card Code",LOYALTY_CARD_ITEM:"Loyalty Card",SIGN_OUT_MENU_ITEM:"Sign Out",TOAST_MESSAGE_1:"Please enter your loyalty card code",TOAST_MESSAGE_2:"Unable to obtain your geolocation",TOAST_MESSAGE_3:"Redeem your loyalty card?",TOAST_MESSAGE_3_ACTION_BUTTON_1:"Yes",WEBSITE_MENU_ITEM:"Website"},v=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).onClickListItem=function(e,t){if(t)return window.location.href=e,void a.props.onClose();a.props.history.push(e),a.props.onClose()},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:this.props.classes.list},r.a.createElement(h.o,null,r.a.createElement(h.p,{button:!0,component:"a",onClick:function(){return e.onClickListItem("/",!1)}},r.a.createElement(h.r,null,r.a.createElement(E.d,null)),r.a.createElement(h.t,null," ",g.LOYALTY_CARDS_MENU_ITEM," ")),r.a.createElement(h.p,{button:!0,component:"a",onClick:function(){return e.onClickListItem("/leaderboard",!1)}},r.a.createElement(h.r,null,r.a.createElement(E.e,null)),r.a.createElement(h.t,null," ",g.LEARDER_BOARD_MENU_ITEM," ")),r.a.createElement(h.p,{button:!0,component:"a",onClick:function(){return e.onClickListItem("https://janvanriebeeck.co.za",!0)}},r.a.createElement(h.r,null,r.a.createElement(E.b,null)),r.a.createElement(h.t,null," ",g.WEBSITE_MENU_ITEM," "))),r.a.createElement(h.h,null),r.a.createElement(h.o,null,r.a.createElement(h.p,{button:!0,component:"a",onClick:function(){return e.onClickListItem("/sign-in",!1)}},r.a.createElement(h.r,null,r.a.createElement(E.f,null)),r.a.createElement(h.t,null," ",g.SIGN_OUT_MENU_ITEM," "))))}}]),t}(r.a.Component),j=Object(f.withStyles)({list:{width:250}})(v),w=Object(O.a)(j),k=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(C.a,{onClose:this.props.onClose,open:this.props.open},r.a.createElement(w,{onClose:this.props.onClose}))}}]),t}(r.a.Component),S=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={drawer:{open:!1}},a.onClickMenu=function(){a.setState({drawer:Object(y.a)({},a.state.drawer,{open:!a.state.drawer.open})})},a.onCloseDrawer=function(){a.setState({drawer:Object(y.a)({},a.state.drawer,{open:!1})})},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:this.props.classes.root},r.a.createElement(h.a,{position:"static"},r.a.createElement(h.x,null,r.a.createElement(h.k,{className:this.props.classes.menuButton,onClick:this.onClickMenu,color:"inherit"},r.a.createElement(E.g,null)),r.a.createElement(h.y,{className:this.props.classes.grow,color:"inherit",variant:"h6"},g.APP_BAR))),r.a.createElement(k,{onClose:this.onCloseDrawer,open:this.state.drawer.open}))}}]),t}(r.a.Component),_=Object(f.withStyles)({root:{flexGrow:1},grow:{flexGrow:1},menuButton:{marginLeft:-12,marginRight:20}})(S),A=a(42),T=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(h.d,{onClick:function(){return e.props.action(e.props.loyaltyCard)},style:{width:"100%"}},r.a.createElement(h.e,null,r.a.createElement(h.g,{style:{height:"150px"},image:"/lojaliteits-kaart-toepassing/images/loyalty-card-bg.jpg",title:"Loyalty Card Background"}),r.a.createElement(h.f,null,r.a.createElement(h.y,{gutterBottom:!0,variant:"h6"},g.LOYALTY_CARD_ITEM),r.a.createElement(h.y,{color:"textSecondary"},A(this.props.loyaltyCard.date).format("DD MMMM YYYY")),r.a.createElement(h.y,{component:"p"},"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque ac ex sollicitudin, dictum sapien eget, aliquam mi."))))}}]),t}(r.a.Component),M=a(31),L=a.n(M),N=a(34);function x(){return new Promise(function(e,t){navigator.geolocation.getCurrentPosition(e,t,{enableHighAccuracy:!0,maximumAge:0,timeout:5e3})})}function I(e){return new Promise(function(t){setTimeout(function(){var a=R("loyaltyCards");a||(a=[]);var n=a.indexOf(a.find(function(t){return t.id===e.id}));a.splice(n,1),Y("loyaltyCards",a),t()},2e3)})}function D(){return new Promise(function(e){setTimeout(function(){var t=R("loyaltyCards");e(t||[])},2e3)})}function R(e){var t=localStorage.getItem(e);return t?JSON.parse(t):null}function Y(e,t){t||localStorage.removeItem(e),localStorage.setItem(e,JSON.stringify(t))}var U=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={loading:!1,loyaltyCardCode:"",message:null},a.onChangeLoyaltyCardCode=function(e){a.setState(Object(y.a)({},a.state,{loyaltyCardCode:e.target.value}))},a.onClickFab=Object(N.a)(L.a.mark(function e(){var t;return L.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a.state.loyaltyCardCode){e.next=3;break}return a.setState(Object(y.a)({},a.state,{message:{text:g.TOAST_MESSAGE_1}})),e.abrupt("return");case 3:return e.prev=3,e.next=6,x();case 6:t=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),a.setState(Object(y.a)({},a.state,{message:{text:g.TOAST_MESSAGE_2}})),e.abrupt("return");case 13:return a.setState(Object(y.a)({},a.state,{loading:!0})),e.next=16,a.state.loyaltyCardCode,t.coords.latitude,t.coords.longitude,t.coords.accuracy,new Promise(function(e){setTimeout(function(){var t=R("loyaltyCards");t||(t=[]),t.push({id:Math.floor(Math.random()*Number.MAX_SAFE_INTEGER),date:new Date}),Y("loyaltyCards",t),e()},2e3)});case 16:a.props.history.push("/"),a.setState(Object(y.a)({},a.state,{loading:!1}));case 18:case"end":return e.stop()}},e,this,[[3,9]])})),a.onCloseSnackbar=function(){a.setState(Object(y.a)({},a.state,{message:null}))},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{style:{padding:"16px"}},this.state.loading?r.a.createElement(h.n,null):null,r.a.createElement(h.j,{style:{width:"100%"}},r.a.createElement(h.m,null,g.LOYALTY_CARD_CODE),r.a.createElement(h.l,{onChange:this.onChangeLoyaltyCardCode,value:this.state.loyaltyCardCode})),r.a.createElement(h.i,{color:"primary",onClick:this.onClickFab,style:{bottom:"15px",outline:"none",position:"fixed",right:"15px"}},r.a.createElement(E.c,null)),r.a.createElement(h.w,{autoHideDuration:6e3,onClose:this.onCloseSnackbar,open:!!this.state.message,message:this.state.message?r.a.createElement("span",null,this.state.message.text):null}))}}]),t}(r.a.Component),B=Object(O.a)(U),G=a(142),P=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={users:null},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=Object(N.a)(L.a.mark(function e(){return L.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=this,e.t1=y.a,e.t2={},e.t3=this.state,e.next=6,new Promise(function(e){setTimeout(function(){e([{firstName:"Desmond",lastName:"Murray",numberOfLoyaltyCards:Math.floor(7*Math.random())+1},{firstName:"Aylin",lastName:"Leonard",numberOfLoyaltyCards:Math.floor(7*Math.random())+1},{firstName:"Harrison",lastName:"Ellis",numberOfLoyaltyCards:Math.floor(7*Math.random())+1},{firstName:"Octavio",lastName:"Gilmore",numberOfLoyaltyCards:Math.floor(7*Math.random())+1},{firstName:"Ean",lastName:"Reese",numberOfLoyaltyCards:Math.floor(7*Math.random())+1}])},2e3)});case 6:e.t4=e.sent,e.t5={users:e.t4},e.t6=(0,e.t1)(e.t2,e.t3,e.t5),e.t0.setState.call(e.t0,e.t6);case 10:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(h.o,{dense:!0,subheader:r.a.createElement(h.u,{disableSticky:!0,component:"div"},g.LEARDER_BOARD_MENU_ITEM)},this.state.users?this.state.users.map(function(e,t){return r.a.createElement(h.p,{key:t},r.a.createElement(h.q,null,r.a.createElement(h.b,null,"".concat(e.firstName[0]).concat(e.lastName[0]))),r.a.createElement(h.t,{primary:"".concat(e.firstName," ").concat(e.lastName)}),r.a.createElement(h.s,null,Object(G.a)(new Array(e.numberOfLoyaltyCards)).map(function(e,t){return r.a.createElement(E.h,{key:t})})))}):r.a.createElement(h.n,null)))}}]),t}(r.a.Component),W=a(5580),J=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={loyaltyCards:null,message:null},a.onCloseSnackbar=function(){a.setState(Object(y.a)({},a.state,{message:null}))},a.onClickLoyaltyCard=function(e){a.setState(Object(y.a)({},a.state,{message:{action:[r.a.createElement(h.c,{key:"yes",onClick:function(){return a.onClickLoyaltyCardYes(e)},color:"secondary",size:"small"},g.TOAST_MESSAGE_3_ACTION_BUTTON_1)],text:g.TOAST_MESSAGE_3}}))},a.onClickLoyaltyCardYes=function(){var e=Object(N.a)(L.a.mark(function e(t){return L.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.setState(Object(y.a)({},a.state,{loyaltyCards:null,message:null})),e.next=3,I(t);case 3:return e.t0=a,e.t1=y.a,e.t2={},e.t3=a.state,e.next=9,D();case 9:e.t4=e.sent,e.t5={loyaltyCards:e.t4},e.t6=(0,e.t1)(e.t2,e.t3,e.t5),e.t0.setState.call(e.t0,e.t6);case 13:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=Object(N.a)(L.a.mark(function e(){return L.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=this,e.t1=y.a,e.t2={},e.t3=this.state,e.next=6,D();case 6:e.t4=e.sent,e.t5={loyaltyCards:e.t4},e.t6=(0,e.t1)(e.t2,e.t3,e.t5),e.t0.setState.call(e.t0,e.t6);case 10:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(h.o,{dense:!0,subheader:r.a.createElement(h.u,{disableSticky:!0,component:"div"},g.LOYALTY_CARDS_MENU_ITEM)},this.state.loyaltyCards?this.state.loyaltyCards.map(function(t){return r.a.createElement(h.p,{key:t.id},r.a.createElement(T,{action:e.onClickLoyaltyCard,loyaltyCard:t}))}):r.a.createElement(h.n,null)),r.a.createElement(h.i,{color:"primary",style:{bottom:"15px",outline:"none",position:"fixed",right:"15px"},component:W.a,to:"/add-loyalty-card"},r.a.createElement(E.a,null)),r.a.createElement(h.w,{open:!!this.state.message,autoHideDuration:6e3,onClose:this.onCloseSnackbar,message:this.state.message?r.a.createElement("span",null,this.state.message.text):null,action:this.state.message?this.state.message.action:null}))}}]),t}(r.a.Component),F=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(h.v,{style:{margin:"8px",padding:"20px",textAlign:"center"}},r.a.createElement("img",{src:"/lojaliteits-kaart-toepassing/images/logo.jpg",alt:"Logo"}),r.a.createElement("br",null),r.a.createElement(h.c,{color:"primary",component:W.a,to:"/",variant:"contained"},g.ENTER_BUTTON))}}]),t}(r.a.Component);A.locale("af",{months:["Januarie","Februarie","Maart","April","Mei","Junie","Julie","Augustus","September","Oktober","November","Desember"]}),A.locale("af");var H=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){x().catch(function(){})}},{key:"render",value:function(){return r.a.createElement(d.a,null,r.a.createElement("div",null,r.a.createElement(_,null),r.a.createElement(p.a,{path:"/add-loyalty-card",component:B}),r.a.createElement(p.a,{path:"/leaderboard",component:P}),r.a.createElement(p.a,{exact:!0,path:"/",component:J}),r.a.createElement(p.a,{path:"/sign-in",component:F})))}}]),t}(n.Component),q=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function z(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See http://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}l.a.render(r.a.createElement(H,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/lojaliteits-kaart-toepassing",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("/lojaliteits-kaart-toepassing","/service-worker.js");q?(function(e,t){fetch(e).then(function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):z(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit http://bit.ly/CRA-PWA")})):z(t,e)})}}()}},[[5422,2,1]]]);
//# sourceMappingURL=main.fdce319d.chunk.js.map